{"version":3,"sources":["../../../api/server/utils/validate.js"],"names":["registerValidate","object","registerSchema","Joi","name","string","required","min","surname","email","password","roleId","number","isRemoved","result","validate","abortEarly","error","type","message","value","details","context","loginValidate","loginSchema"],"mappings":";;;;;;;;;;AAAA;;AACO,SAASA,gBAAT,CAA0BC,MAA1B,EAAkC;AACvC,MAAMC,cAAc,GAAGC,gBAAIF,MAAJ,CAAW;AAChCG,IAAAA,IAAI,EAAED,gBAAIE,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,CAD0B;AAEhCC,IAAAA,OAAO,EAAEL,gBAAIE,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,CAFuB;AAGhCE,IAAAA,KAAK,EAAEN,gBAAIE,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,CAHyB;AAIhCG,IAAAA,QAAQ,EAAEP,gBAAIE,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,CAJsB;AAKhCI,IAAAA,MAAM,EAAER,gBAAIS,MAAJ,EALwB;AAMhCC,IAAAA,SAAS,EAAEV,gBAAIS,MAAJ;AANqB,GAAX,CAAvB;;AASA,MAAME,MAAM,GAAGZ,cAAc,CAACa,QAAf,CAAwBd,MAAxB,EAAgC;AAAEe,IAAAA,UAAU,EAAE;AAAd,GAAhC,CAAf;;AAEA,MAAIF,MAAM,CAACG,KAAX,EAAkB;AAChB,WAAO;AACLC,MAAAA,IAAI,EAAE,KADD;AAELD,MAAAA,KAAK,EAAE;AACLE,QAAAA,OAAO,EAAEL,MAAM,CAACG,KAAP,CAAaE,OADjB;AAELC,QAAAA,KAAK,EAAEN,MAAM,CAACG,KAAP,CAAaI,OAAb,CAAqB,CAArB,EAAwBC,OAAxB,CAAgCF;AAFlC;AAFF,KAAP;AAOD;;AACD,SAAO;AACLF,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD;;AAEM,SAASK,aAAT,CAAuBtB,MAAvB,EAA+B;AACpC,MAAMuB,WAAW,GAAGrB,gBAAIF,MAAJ,CAAW;AAC7BQ,IAAAA,KAAK,EAAEN,gBAAIE,MAAJ,GAAaC,QAAb,EADsB;AAE7BI,IAAAA,QAAQ,EAAEP,gBAAIE,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B;AAFmB,GAAX,CAApB;;AAIA,MAAMO,MAAM,GAAGU,WAAW,CAACT,QAAZ,CAAqBd,MAArB,EAA6B;AAAEe,IAAAA,UAAU,EAAE;AAAd,GAA7B,CAAf;;AACA,MAAIF,MAAM,CAACG,KAAX,EAAkB;AAChB,WAAO;AACLC,MAAAA,IAAI,EAAE,KADD;AAELD,MAAAA,KAAK,EAAE;AACLE,QAAAA,OAAO,EAAEL,MAAM,CAACG,KAAP,CAAaE,OADjB;AAELC,QAAAA,KAAK,EAAEN,MAAM,CAACG,KAAP,CAAaI,OAAb,CAAqB,CAArB,EAAwBC,OAAxB,CAAgCF;AAFlC;AAFF,KAAP;AAOD;;AAED,SAAO;AACLF,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD","sourcesContent":["import Joi from \"joi\"\nexport function registerValidate(object) {\n  const registerSchema = Joi.object({\n    name: Joi.string().required().min(3),\n    surname: Joi.string().required().min(3),\n    email: Joi.string().required().min(3),\n    password: Joi.string().required().min(6),\n    roleId: Joi.number(),\n    isRemoved: Joi.number(),\n  })\n\n  const result = registerSchema.validate(object, { abortEarly: false })\n\n  if (result.error) {\n    return {\n      type: false,\n      error: {\n        message: result.error.message,\n        value: result.error.details[0].context.value,\n      },\n    }\n  }\n  return {\n    type: true,\n  }\n}\n\nexport function loginValidate(object) {\n  const loginSchema = Joi.object({\n    email: Joi.string().required(),\n    password: Joi.string().required().min(6),\n  })\n  const result = loginSchema.validate(object, { abortEarly: false })\n  if (result.error) {\n    return {\n      type: false,\n      error: {\n        message: result.error.message,\n        value: result.error.details[0].context.value,\n      },\n    }\n  }\n\n  return {\n    type: true,\n  }\n}\n"],"file":"validate.js"}